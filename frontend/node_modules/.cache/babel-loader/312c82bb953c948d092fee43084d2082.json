{"ast":null,"code":"import _objectSpread from \"/Users/a.c./Documents/Git/Projet-3-SNCF/API-MaaS-app/ProjetB-SNCF-MAAS/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/a.c./Documents/Git/Projet-3-SNCF/API-MaaS-app/ProjetB-SNCF-MAAS/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/a.c./Documents/Git/Projet-3-SNCF/API-MaaS-app/ProjetB-SNCF-MAAS/frontend/src/App.js\";\nimport React, { useState } from \"react\";\nimport Theme from \"./components/Theme\";\nimport styled from \"styled-components\";\nimport MenuBurger from \"./components/Nav/MenuBurger\";\nimport LandingPage from \"./components/LandingPage/LandingPage\";\nimport Footer from \"./components/Footer/Footer\";\nimport secrets from \"./secrets\";\nimport Script from \"react-load-script\";\nconst Container = styled.div`\n  max-width: 2440px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  align-content: center;\n  text-align: center;\n  background-color: ${props => props.theme.colors.emerald};\n  color: ${props => props.theme.colors.white};\n  font-family: ${props => props.theme.fonts[0]};\n`;\n\nfunction App() {\n  //Script loading\n  const _useState = useState({\n    googleApiScript: {\n      scriptLoaded: false,\n      scriptError: false,\n      onCreate: false\n    }\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        googleApiScript = _useState2[0],\n        setGoogleApiScript = _useState2[1];\n\n  function beforeLoadingGoogleAPIScript() {\n    window.initDeparture && window.initDeparture();\n    window.initArrival && window.initArrival();\n  }\n\n  const handleOnCreate = async () => {\n    const onCreateFunction = await beforeLoadingGoogleAPIScript();\n\n    if (onCreateFunction) {\n      setGoogleApiScript({\n        onCreate: true\n      });\n      console.log(\"ok : script oncreate chargé\");\n      console.log(window.initDeparture, window.initArrival);\n    } else if (googleApiScript.onCreate !== true) {\n      console.log(\"zut de flute !\");\n    }\n  };\n\n  const handleScriptError = () => {\n    setGoogleApiScript({\n      scriptError: true\n    });\n    console.log(\"Library for Google API is not loaded !\");\n  };\n\n  const handleScriptLoad = async () => {\n    // if (googleApiScript.onCreate === true) {\n    setGoogleApiScript({\n      scriptLoaded: true\n    });\n    console.log(\"Library for Google API successfully loaded !\"); // }\n  };\n\n  const placeStateInit = {\n    address: \"\",\n    lat: null,\n    lng: null\n  };\n\n  const _useState3 = useState({\n    departure: _objectSpread({}, placeStateInit),\n    arrival: _objectSpread({}, placeStateInit),\n    date: null\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        globalState = _useState4[0],\n        setGlobalState = _useState4[1];\n\n  console.log(globalState);\n  return React.createElement(React.Fragment, null, React.createElement(Theme, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(MenuBurger, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(Script, {\n    url: `https://maps.googleapis.com/maps/api/js?key=${secrets.apiKey}&libraries=places&region=FR&callback=${beforeLoadingGoogleAPIScript}`,\n    onCreate: handleOnCreate,\n    onError: handleScriptError,\n    onLoad: handleScriptLoad,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), googleApiScript.scriptLoaded === true ? React.createElement(LandingPage, {\n    globalState: globalState,\n    setGlobalState: setGlobalState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Chargement...\")), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/a.c./Documents/Git/Projet-3-SNCF/API-MaaS-app/ProjetB-SNCF-MAAS/frontend/src/App.js"],"names":["React","useState","Theme","styled","MenuBurger","LandingPage","Footer","secrets","Script","Container","div","props","theme","colors","emerald","white","fonts","App","googleApiScript","scriptLoaded","scriptError","onCreate","setGoogleApiScript","beforeLoadingGoogleAPIScript","window","initDeparture","initArrival","handleOnCreate","onCreateFunction","console","log","handleScriptError","handleScriptLoad","placeStateInit","address","lat","lng","departure","arrival","date","globalState","setGlobalState","apiKey"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Theme from \"./components/Theme\";\nimport styled from \"styled-components\";\nimport MenuBurger from \"./components/Nav/MenuBurger\";\nimport LandingPage from \"./components/LandingPage/LandingPage\";\nimport Footer from \"./components/Footer/Footer\";\nimport secrets from \"./secrets\";\nimport Script from \"react-load-script\";\n\nconst Container = styled.div`\n  max-width: 2440px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  align-content: center;\n  text-align: center;\n  background-color: ${props => props.theme.colors.emerald};\n  color: ${props => props.theme.colors.white};\n  font-family: ${props => props.theme.fonts[0]};\n`;\n\nfunction App() {\n  //Script loading\n  const [googleApiScript, setGoogleApiScript] = useState({\n    googleApiScript: {\n      scriptLoaded: false,\n      scriptError: false,\n      onCreate: false\n    }\n  });\n\n  function beforeLoadingGoogleAPIScript() {\n    window.initDeparture && window.initDeparture();\n    window.initArrival && window.initArrival();\n  }\n\n  const handleOnCreate = async () => {\n    const onCreateFunction = await beforeLoadingGoogleAPIScript();\n    if (onCreateFunction) {\n      setGoogleApiScript({ onCreate: true });\n      console.log(\"ok : script oncreate chargé\");\n      console.log(window.initDeparture, window.initArrival);\n    } else if (googleApiScript.onCreate !== true) {\n      console.log(\"zut de flute !\");\n    }\n  };\n\n  const handleScriptError = () => {\n    setGoogleApiScript({ scriptError: true });\n    console.log(\"Library for Google API is not loaded !\");\n  };\n  const handleScriptLoad = async () => {\n    // if (googleApiScript.onCreate === true) {\n    setGoogleApiScript({ scriptLoaded: true });\n    console.log(\"Library for Google API successfully loaded !\");\n    // }\n  };\n\n  const placeStateInit = { address: \"\", lat: null, lng: null };\n  const [globalState, setGlobalState] = useState({\n    departure: { ...placeStateInit },\n    arrival: { ...placeStateInit },\n    date: null\n  });\n  console.log(globalState);\n  return (\n    <>\n      <Theme>\n        <Container>\n          <MenuBurger />\n\n          <Script\n            url={`https://maps.googleapis.com/maps/api/js?key=${secrets.apiKey}&libraries=places&region=FR&callback=${beforeLoadingGoogleAPIScript}`}\n            onCreate={handleOnCreate}\n            onError={handleScriptError}\n            onLoad={handleScriptLoad}\n          />\n          {googleApiScript.scriptLoaded === true ? (\n            <LandingPage\n              globalState={globalState}\n              setGlobalState={setGlobalState}\n            />\n          ) : (\n            <p>Chargement...</p>\n          )}\n        </Container>\n        <Footer />\n      </Theme>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}